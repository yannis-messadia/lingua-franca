<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lingua Franca</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Share Tech Mono', monospace;
  }
</style>

</head>
<body>
    <h1>Lingua Franca — Translate your text</h1>
    <form method="POST">
        <textarea name="text" placeholder="Enter text here" rows="4" cols="50"></textarea><br>
        <label>From:</label>
<select name="source_lang">
    <option value="auto">Auto-detect</option>
    <option value="en">English</option>
    <option value="fr">French</option>
    <option value="es">Spanish</option>
    <option value="de">German</option>
    <option value="it">Italian</option>
    <option value="pt">Portuguese</option>
    <option value="ar">Arabic</option>
    <option value="zh-cn">Chinese</option>
    <option value="ja">Japanese</option>
    <option value="ru">Russian</option>
    <option value="ko">Korean</option>
</select>

<select name="target_lang">
    <option value="en">English</option>
    <option value="fr">French</option>
    <option value="es">Spanish</option>
    <option value="de">German</option>
    <option value="it">Italian</option>
    <option value="pt">Portuguese</option>
    <option value="ar">Arabic</option>
    <option value="zh-cn">Chinese</option>
    <option value="ja">Japanese</option>
    <option value="ru">Russian</option>
    <option value="ko">Korean</option>
</select>
<br><br>
        <button type="submit">Translate</button>
    </form>

    {% if translation %}
    <h2>Translation:</h2>
    <p id="animated-translation"></p>
    <script>
        const text = {{ translation|tojson }};
        const container = document.getElementById("animated-translation");

        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                container.textContent += text.charAt(i);
                i++;
                setTimeout(typeWriter, 30);  // Vitesse d'écriture (30ms par lettre)
            }
        }

        typeWriter();
    </script>

    <p style="color: gray;">{{ detected_lang }}</p>
{% endif %}
</body>
</html>
